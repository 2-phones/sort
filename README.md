<div align='center'>
  
## 💻 SORT(Sell Own Region Ticket)

<br>
 
<a href="https://rcut.in/ticketissort" target="_blank">
<img src='https://user-images.githubusercontent.com/104279155/195317360-06a22c15-b9dc-4191-80e1-a88dc74dcf79.svg'/>
</a>
  
<br>
 
### 가성비 좋은 여가생활을 위한 중고 티켓 거래 웹 v2.0.3

 <br>
 <a href="https://rcut.in/DKbFiBYi">
 <img src="https://user-images.githubusercontent.com/87120463/233687576-7dfd3e41-3ec4-461a-8736-2ea63a32a3d7.png" width=40px height=40px /></a>&nbsp;&nbsp;&nbsp;&nbsp; <a href="https://rcut.in/ticketissort"><img src="https://user-images.githubusercontent.com/87120463/233687348-bf4b20eb-1d42-4f0e-8513-852c543c20cb.png" width=40px height=40px /></a>
 
</div>

<br>
  
- <b>기 &nbsp;&nbsp;&nbsp;&nbsp; 간</b> : 2023.02 ~ 2022.03

- <b>담 &nbsp;&nbsp;&nbsp;&nbsp; 당</b> : 프론트엔드

- [sort v1.0.0](https://github.com/codestates-seb/seb39_main_018)
 
 <br>

## 1. 프로젝트 설명
<p>
<img width="350" height="350" alt="2" src="https://user-images.githubusercontent.com/87120463/197337414-d9f0bf9b-edc5-4c50-838e-2611c4309214.png">
<img width="350" height="350" alt="2" src="https://user-images.githubusercontent.com/87120463/197337518-f1fe3dab-840b-421b-a25d-5b8114a773fe.png">
</p>

- 사회적 거리두기로 일상에 제약을 받으면서 여가활동의 수요가 분야별 30% ~ 최대 60% 이상 증가 하였으나 최근 거리두기 해제와 물가 상승이 이어지면서 중고, 마감할인을 찾는 사람도 증가하고 있습니다.
- 이러한 데이터를 반영하여, 가성비 좋은 여가생활의 필요성을 해결하기 위해 '티켓'을 키워드로 기획하였습니다.
- 물가 상승에 대한 부담을 줄이고, 경제적 여건을 고려하면서도 즐거운 여가생활을 즐길 수 있도록 돕고자 티켓 중고거래 서비스를 개발하였습니다.

<br>


## 2. 주요기술
 
<br>

|Development|
|-|
| <img src="https://user-images.githubusercontent.com/87120463/233676091-a0f90da7-92b9-465a-a540-27f4c7180d38.png" width=550px />| 

<!-- |Backend|
|-|
| <img src="https://user-images.githubusercontent.com/87120463/233677326-736a7cc7-c193-4548-bd6f-743dd340ad78.png" width=550px /> |  -->

|Deploy|
|-|
| <img src="https://user-images.githubusercontent.com/87120463/233678660-ab1c0963-30b1-413b-8304-e690810b3626.png" width=550px/> |
 

<br>


<!-- |Frontend|Backend|Deploy|
|-|-|-|
|<br><img src='https://user-images.githubusercontent.com/87120463/224665094-7111ede9-8bfd-4307-b619-82f3675ae41f.png' width='70px' height='80px'/><img src='https://user-images.githubusercontent.com/87120463/224654667-0783e1e3-a391-4dc4-be59-45ac23eafae1.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224654673-a91c63a9-4f7c-4c81-9e14-4415df59ff5b.png' width='90px' height='80px'/><img src='https://user-images.githubusercontent.com/87120463/224654674-8aad6297-6c7e-4ec0-bee8-a88c2d8d954c.png' width='70px' height='80px'/><img src='https://user-images.githubusercontent.com/87120463/224655985-a9e75fe2-a3f1-44a7-8b55-9d8224634646.png' width='70px' height='80px'/>|<img src='https://user-images.githubusercontent.com/87120463/224654660-94449788-273a-4824-a9de-82ea5891793a.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224654678-32252577-4080-4052-9103-331e9196b42e.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224654685-bda1eccf-70d1-4702-a313-dc5d24207905.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224655981-95369949-b889-4364-a77c-9f1b98e66828.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224654675-e063cf41-45fe-4bf2-afb2-fc5a039a688f.png' width='70px' height='80px'/>|<img src='https://user-images.githubusercontent.com/87120463/224660261-add5d00a-88cc-4b75-82b0-8e4ca52113b5.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224661642-503d43b0-4a4a-4108-8da1-de1573721317.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224661925-d9dbd942-d8ec-432b-9e98-ae7e01386387.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224661643-7ed27ea2-afdd-40da-b416-f21c9099ec06.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224655991-4f640a09-6f91-4f0f-8bf6-1b7712494fd5.png' width='70px' height='80px'/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src='https://user-images.githubusercontent.com/87120463/224655989-e348152e-079f-4e5f-8928-1de82a634283.png' width='70px' height='80px'/>| -->


<br/>

## 3. 화면구성

<br>

| 랜딩 페이지 | 메인 페이지 |
| :-----------: | :-----------: |
| <img width=500px height=300px src="https://user-images.githubusercontent.com/87120463/217461567-2a5eeaa5-112f-4f8b-a6ea-b43064ae9c14.png"/>| <img width=500px height=300px src="https://user-images.githubusercontent.com/87120463/217461816-3e618284-b571-4a1f-9be9-4e59c820a9d6.png"/> |

| 로그인 | 마이페이지|
| :-----------: | :-----------: |
|<img width=500px height=300px src="https://user-images.githubusercontent.com/87120463/217461873-4c14624f-71e9-4457-9183-ca25743721f9.png"/> | <img width=500px height=300px src="https://user-images.githubusercontent.com/87120463/217462126-7d8f41a5-d991-4259-ad1f-f160343be86e.png"/> |

| 상품등록 페이지 | 지역인증 |
| :-----------: | :-----------: |
|  <img width=500px height=300px src="https://user-images.githubusercontent.com/87120463/217462203-29b24b8b-1119-43a0-99d2-169af6984643.png"/> | <img width=500px height=300px src="https://user-images.githubusercontent.com/87120463/217464708-923346e8-f5b6-440d-a88e-b8579d73ed8c.png"/> 


<br/>

## 4. ERD 설계

<br>

|table|description|
|-|-|
|Posts|게시물 테이블|
|Users|회원 테이블|
|Refresh_Tokens| 리프레시토큰 테이블|

<img width=700px height=400px src="https://user-images.githubusercontent.com/87120463/224711081-d2f14d0a-f1a1-4c4a-bf37-33b342e92614.png"/>
<br/><br/>

## 5. 아키텍처

<img width=800px height=400px src="https://user-images.githubusercontent.com/87120463/224270630-7c00bd0e-5c71-4699-ab79-e7b8fc6ff64a.png"/>

## 6. 트러블슈팅

<br>

<details>

<summary>중첩된 라우팅 경로로 이동시 빈화면</summary>

<br>

- 프로젝트에서 중첩 라우팅을 설정하고 하위 페이지로 이동했을 때 화면이 제대로 렌더링되지 않는 문제가 발생했습니다.
- 웹팩 관련 설정을 살펴보니, 번들링한 파일을 로드할 수 있는 경로를 지정하는 **`publicPath`**
 옵션을 추가해야 한다는 것을 알게 되었습니다. 
- 이 옵션을 설정하지 않으면 파일 경로를 찾을 수 없어서 렌더링이 되지 않았던 것입니다. 
- **`output : { publicPath: "/" }`** 를 웹팩 설정 파일에 추가하여 문제를 해결했고, 중첩된 라우팅 구조에서도 렌더링이 원활하게 되었습니다.

</details>

<details>

<summary>캐싱 문제로 인한 배포 업데이트가 반영되지 않음</summary>

<br>

- 보안 강화를 위해 AWS CloudFront로 프로젝트를 배포했습니다. 
- 초기에는 배포가 잘 되었으나, 이후 프로젝트를 수정 후 재배포시 이전 버전의 파일이 캐시되어 업데이트가 반영되지 않는 문제가 발생했습니다. 
- 이 문제를 해결하기 위해 CloudFront의 캐시 무효화 기능을 사용했지만, 문제가 반복되어 Docker와 Nginx를 도입하여 해결했습니다. 
- Docker와 Nginx를 사용하면서 캐시 문제도 해결하고 보안 강화도 이루어져 안정적인 배포가 가능해졌습니다.

</details>

<details>

<summary>클라이언트와 서버 간 CORS 이슈</summary>

<br>

- 프로젝트 초기 서버와 통신을 시도할 때, **`No ‘Access-Control-Allow-Origin’`** 에러가 발생하여 CORS 설정을 모두 허용으로 변경하였습니다. 
- 이후 JWT 토큰 인증 방식을 사용하면서 **`wildcard ’*’ when the request’s credentials mode is ‘include`** 에러가 발생했습니다. 
- 이 과정에서 클라이언트 도메인과 서버 CORS 설정이 일치해야 한다는 것과 모두 허용 설정은 보안상 문제가 발생할 수 있음을 깨달았고, <br> 
  **`credentials = true`** 설정 과 도메인 주소를 명확히 입력하여 CORS 문제를 해결하였습니다.

</details>

<details>

<summary>map 메서드와 key prop 사용 시 발생한 에러</summary>

<br>

- 컴포넌트 내에서 중복되는 코드를 줄이기 위해 map 메서드를 사용하여 요소에 대한 고유 key 값을 지정했지만,<br> 
  **`"Each child in a list should have a unique "key" prop."`**  에러가 발생했습니다. 
- 리액트의 동작 원리상 부모 태그로 감싸져 있어어야하는데, 불필요한 **`<div>`** 태그 대신  **`<>`** 빈 태그를 사용으로 발생한 문제였습니다. 
- 이를 위해 공식 문서를 참고하여  **`<React.Fragment>`**  를 알게되었고, 빈 태그를 사용하지 않고도 문제를 해결하였습니다.

</details>

<details>

<summary>타입스크립트로 리팩토링 하며 SVG 컴포넌트로 사용시 에러</summary>

<br>

- 프로젝트를 타입스크립트로 리팩토링 하는 과정에서 SVG 파일을 컴포넌트로 사용하려고 하면<br>
`"failed to execute 'createElement' on 'Document': The tag name provided is not a valid name."` 에러가 발생했습니다.
- SVG 파일을 컴포넌트로 사용할 때 태그 이름이 유효하지 않아 생기는 문제였습니다.
- 이를 해결하기 위해 @svgr/webpack 모듈을 설치하고 웹팩에 설정하며, tsconfig.json 파일에서 **`"esModuleInterop": true`** 로 설정했지만 해결되지 않았고, SVG 파일에 대한 타입 선언을   추가해야 한다는 것을 검색과 커뮤니티를 통해 알게 되었습니다.  끝으로 `.d.ts` 확장자를 추가하여 해결하였습니다.


  <details>

  <summary>웹팩 변경</summary>

    <br>

    변경전
  ```js
  webpack.config =
    module:
    {
      test: /\.(png|jpg|svg)$/,
      use: ['file-loader'],
    }
  ```

  변경후
  ```js
  webpack.config =
    module:
    {
        test: /\.(png|jpg)$/,
        use: ['file-loader'],
      },
    {
      test: /\.svg$/,
      use: ['@svgr/webpack', 'file-loader'],
    }
  ```

  </details>

    <details>

  <summary>d.ts 파일</summary>

    <br>

    - svg 를 import 할때마다 `ReactComponent as Svg` 와 같이 ReactComponent를 작성하는 과정이 번거로워서 d.ts 확장자에 추가

    <br>

    ```js
    declare module '*.svg' {
      import React = require('react');
      export const ReactComponent: React.FunctionComponent<React.SVGProps<SVGSVGElement>>;
      const src: string;
      export default src;
      }
    ```

  </details>


  </details>

  ## 
 
  </details>
